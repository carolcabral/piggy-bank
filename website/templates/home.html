{% extends "base.html" %} {%block title %}Home{%endblock%} {% block content %}

<button
  type="button"
  class=""
  onClick="nextMonth({{current_month}}-1, {{current_year}} )"
>
  Prev
</button>

<h1>{{current_month}} / {{current_year}}</h1>

<button
  type="button"
  class=""
  onClick="nextMonth({{current_month}} + 1, {{current_year}} )"
>
  NEXT
</button>

<table class="table">
  <thead>
    <tr>
      <th scope="col">Data</th>
      <th scope="col">Item</th>
      <th scope="col">Valor</th>
      <th scope="col">Categoria</th>
    </tr>
  </thead>
  <tbody>
    {%for entry in entries %}
    <tr>
      <th scope="row">{{entry.date.strftime("%d")}}</th>
      <td>{{entry.item}}</td>
      <td>{{entry.value}}</td>
      <td>{{entry.category}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h1>Your balance is R$ {{balance}}</h1>

<script type="text/javascript">
  function nextMonth(currentMonth, currentYear) {
    fetch("/", {
      method: "POST",
      body: JSON.stringify({ currentMonth, currentYear }),
    }).then((res) => {
      window.location.href = "/";
    });
  }
</script>

{% endblock %}
